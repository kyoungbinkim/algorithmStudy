# [Platinum V] 금고 (SAFE) - 14932 

[문제 링크](https://www.acmicpc.net/problem/14932) 

### 성능 요약

메모리: 341904 KB, 시간: 1188 ms

### 분류

함수형 그래프, 그래프 이론, 그래프 탐색

### 제출 일자

2025년 6월 27일 16:38:43

### 문제 설명

<p><img alt="" src="https://onlinejudgeimages.s3-ap-northeast-1.amazonaws.com/problem/14932/1.png" style="float:right; height:129px; width:146px">제연이는 멘사 회원이 되고 싶어 멘사 수학 퀴즈를 살펴보던 중 흥미로운 사실을 발견하게 된다. 바로 멘사 회원들은 평범한 금고를 쓰지 않고 오른쪽 그림과 같은 금고를 사용한다는 점이다! 이 금고의 작동원리는 다음과 같다:</p>

<ol>
	<li>한 버튼을 선택한 후 그 버튼에 쓰인 글씨를 읽는다.</li>
	<li>U(위), D(아래), L(왼쪽), R(오른쪽)의 규칙으로 앞에 적힌 수만큼 이동한다.</li>
	<li>모든 버튼을 한 번씩 다 누를 때까지 1~2 과정을 반복한다.</li>
	<li>버튼을 누르던 도중 이미 누른 버튼을 다시 누르게 되면 금고를 여는 데에 실패하며, 모든 버튼을 다 누르는 순간 금고는 열린다.</li>
</ol>

<p>따라서 오른쪽 그림과 같은 경우에는 2행 2열의 “3D”를 누르게 되면 2행 5열의 “2D”를 누름과 동시에 금고가 열리게 된다. 하지만 다른 버튼으로 시작한 경우 금고는 열리지 않게 된다.</p>

<p>금고의 원리를 흥미롭게 느낀 제연이는 멘사 회원이 되기 위해 직접 “멘사 금고”를 제작하기로 마음먹고 N*N 크기의 격자판에 마음대로 수와 알파벳을 써넣었다. 아차! 무작정 글씨를 쓰다보니 어느 버튼을 눌러야 금고가 열리는지 알 수 없었다. 제연이를 도와 금고를 여는 버튼을 알려주자.</p>

### 입력 

 <p>첫째 줄에 N(2 ≤ N ≤ 1,000)이 주어진다.</p>

<p>둘째 줄부터 N개의 줄에 수, 알파벳 쌍이 N개 주어진다. 모든 알파벳은 U,D,L,R 중 하나이며 그 버튼을 눌러 따라갔을 때 금고 밖으로 벗어나는 일은 없다.</p>

### 출력 

 <p>금고가 열리는 버튼이 단 하나 존재할 경우 그 버튼의 행과 열을 공백을 사이에 두고 출력한다.</p>

<p>만약 금고가 열리는 버튼이 두 개 이상 존재할 경우 “THIEF LOVE IT!”을 출력한다. (따옴표 제외)</p>

<p>어떤 버튼을 눌러도 금고가 열리지 않을 경우 “TOO SAFE”를 출력한다. (따옴표 제외)</p>

